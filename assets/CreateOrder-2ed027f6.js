import{_ as y,j as x,m as k,e as L,r,o as _,c as f,a as e,f as t,u as p,F as C,g as F,t as m,k as b,l as q,n as u,w,v as E}from"./index-992241f8.js";const O={data(){return{currency:x,isLoading:!1,form:{user:{name:"",email:"",tel:"",address:""},message:""}}},computed:{...k(b,["cartList"])},methods:{...L(b,["getCartList"]),createOrder(){const n="https://vue3-course-api.hexschool.io/api/iris-lai-api/order",l=this.form;this.$http.post(n,{data:l}).then(i=>{i.data.success?(this.getCartList(),this.$router.push(`/checkout/${i.data.orderId}`)):console.log(i)})}}},S={class:"container"},U={"aria-label":"breadcrumb"},B={class:"breadcrumb"},M={class:"breadcrumb-item"},N=e("li",{class:"breadcrumb-item active","aria-current":"page"},"填寫訂單",-1),j={class:"my-5 d-flex flex-column align-items-center"},D={class:"col-md-6 mb-4"},T={class:"table align-middle"},z=e("thead",null,[e("th",null,"品名"),e("th",null,"數量"),e("th",{class:"text-end"},"單價")],-1),A={class:"text-end"},I=e("td",{colspan:"2",class:"text-end"},"總計",-1),G={class:"text-end"},H={class:"my-5 row justify-content-center"},J={class:"mb-3"},K=e("label",{for:"email",class:"form-label"},"Email",-1),P={class:"mb-3"},Q=e("label",{for:"name",class:"form-label"},"收件人姓名",-1),R={class:"mb-3"},W=e("label",{for:"tel",class:"form-label"},"收件人電話",-1),X={class:"mb-3"},Y=e("label",{for:"address",class:"form-label"},"收件人地址",-1),Z={class:"mb-3"},$=e("label",{for:"message",class:"form-label"},"留言",-1),ee=e("div",{class:"text-end"},[e("button",{class:"btn btn-danger"},"送出訂單")],-1);function se(n,l,i,le,s,h){const v=r("router-link"),V=r("LoadingOverlay"),d=r("V-Field"),c=r("V-ErrorMessage"),g=r("V-Form");return _(),f("div",S,[e("nav",U,[e("ol",B,[e("li",M,[t(v,{to:"/"},{default:p(()=>[q("商品頁")]),_:1})]),N])]),t(V,{active:s.isLoading},null,8,["active"]),e("div",j,[e("div",D,[e("table",T,[z,e("tbody",null,[(_(!0),f(C,null,F(n.cartList.carts,o=>(_(),f("tr",{key:o.id},[e("td",null,m(o.product.title),1),e("td",null,m(o.qty),1),e("td",A,m(s.currency(o.product.price)),1)]))),128))]),e("tfoot",null,[e("tr",null,[I,e("td",G,m(s.currency(n.cartList.final_total)),1)])])])])]),e("div",H,[t(g,{class:"col-md-6",onSubmit:h.createOrder},{default:p(({errors:o})=>[e("div",J,[K,t(d,{id:"email",name:"email",type:"email",class:u(["form-control",{"is-invalid":o.email}]),rules:"email|required",placeholder:"請輸入 Email",modelValue:s.form.user.email,"onUpdate:modelValue":l[0]||(l[0]=a=>s.form.user.email=a)},null,8,["class","modelValue"]),t(c,{name:"email",class:"invalid-feedback"})]),e("div",P,[Q,t(d,{id:"name",name:"姓名",type:"text",class:u(["form-control",{"is-invalid":o.姓名}]),rules:"required",placeholder:"請輸入姓名",modelValue:s.form.user.name,"onUpdate:modelValue":l[1]||(l[1]=a=>s.form.user.name=a)},null,8,["class","modelValue"]),t(c,{name:"姓名",class:"invalid-feedback"})]),e("div",R,[W,t(d,{id:"tel",name:"電話",type:"tel",class:u(["form-control",{"is-invalid":o.電話}]),rules:"required",placeholder:"請輸入電話",modelValue:s.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=a=>s.form.user.tel=a)},null,8,["class","modelValue"]),t(c,{name:"電話",class:"invalid-feedback"})]),e("div",X,[Y,t(d,{id:"address",name:"地址",type:"text",class:u(["form-control",{"is-invalid":o.地址}]),rules:"required",placeholder:"請輸入地址",modelValue:s.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=a=>s.form.user.address=a)},null,8,["class","modelValue"]),t(c,{name:"地址",class:"invalid-feedback"})]),e("div",Z,[$,w(e("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":l[4]||(l[4]=a=>s.form.message=a)},null,512),[[E,s.form.message]])]),ee]),_:1},8,["onSubmit"])])])}const oe=y(O,[["render",se]]);export{oe as default};
